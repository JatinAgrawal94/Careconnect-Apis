<html>
    <form action="/paynow" method="POST">
        <input type="number" name="amount" placeholder="amount" id="amount">
        <input type="text" name="name" placeholder="name" id="name">
        <input type="text" name="email" placeholder="email" id="email">
        <input type="text" name="phone" placeholder="phone" id="phone">
        <button type="submit" id="submitButton">Submit</button>
    </form>
    <script>
        var amount=document.getElementById("amount");
var merchantname=document.getElementById("name");
var email=document.getElementById("email");
var phone=document.getElementById("phone");
var submitButton=document.getElementById("submitButton");

submitButton.addEventListener('click',()=>{
    formsubmition();
    console.log("I was here");
});

function formsubmition(){
    var xhttp=new XMLHttpRequest();
    xhttp.open("POST",`/paynow`,true);
    xhttp.setRequestHeader('Content-type',"x-www-form-urlencoded");
    xhttp.onreadystatechange = function() {

        if (this.readyState == 4 && this.status == 200) {
                console.log('200');
                console.log(this.response);
            }
        if(this.status==404){
            console.log("404");
        }
        
      };
      xhttp.send({amount:amount.value,name:merchantname.value,email:email.value,phone:phone.value}); 
      console.log(xhttp.response);
}
    </script>
</html>